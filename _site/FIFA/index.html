<!-- Remove the comments to compress html

---
layout: compress
--- 

-->
<!DOCTYPE html>
<html>

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
  
<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Soccer in EU, Home matters! - Jie’s Analytics</title>
<meta property="og:title" content="Soccer in EU, Home matters!" />
<meta name="description" content="Home teams do get big advantages!" />
<meta property="og:description" content="Home teams do get big advantages!" />
<link rel="canonical" href="http://localhost:4000/cards/FIFA/" />
<meta property="og:url" content="http://localhost:4000/cards/FIFA/" />
<meta property="og:site_name" content="Jie’s Analytics" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-10T00:00:00-07:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Soccer in EU, Home matters!",
"datePublished": "2017-04-10T00:00:00-07:00",
"description": "Home teams do get big advantages!",
"url": "http://localhost:4000/cards/FIFA/"}</script>
<!-- End Jekyll SEO tag -->

  
<style>
          
          img{max-width:100%}.mt50{margin-top:50px}.mt20{margin-top:20px}.mt10{margin-top:10px}.navbar-brand{font-weight:900;font-size:1.85em;padding:10px}@media screen and (max-width: 600px){.navbar-brand{font-size:1.5em}}.post-meta{color:#828282}.panel{border:none;box-shadow:0px 0px 1px #828282}.panel:hover{box-shadow:0px 0px 6px #828282}footer{border-top:1px solid #e8e8e8}.social{list-style:none;display:inline;margin-left:10px;padding:5px 8px}.social:hover{opacity:0.7}.social img{width:20px}.quora img{width:17px}.facebook img{width:16px}.recent ul{list-style:none;padding:0;text-align:justify}.recent{padding:10px;border:1px solid #e8e8e8}.post-img img{width:100%}.pack{display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;flex-wrap:wrap;-webkit-flex-wrap:wrap}.card{float:none}

</style>  

<link rel="stylesheet" href="/cards/css/bootstrap.min.css">
<link rel="alternate" type="application/rss+xml" title="Jie's Analytics" href="http://localhost:4000/cards/feed.xml">  
</head>


  <body>

    <header class="site-header">
<nav class="navbar navbar-default navbar-inverse">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/cards/">Jie's Analytics</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
        <li><a href="/cards/about/">About</a></li>
        <li><a href="/cards/contact/">Contact</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">More.. <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a target="_blank" href="https://github.com/jiehu567">GitHub</a></li>
            <li><a href="https://www.linkedin.com/in/hujie/">LinkedIn</a></li>
            <li role="separator" class="divider"></li>
            <li><a target="_blank" href="https://profiles.udacity.com/p/10163664817">Udacity Nano Degree</a></li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
</header>


    <div class="container">
      <div class="wrapper">
        <div class="row">
<div class="col-md-8">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

          <header class="post-header">
            <h1 class="post-title" itemprop="name headline">Soccer in EU, Home matters!</h1>
            <p class="post-meta"><time datetime="2017-04-10T00:00:00-07:00" itemprop="datePublished">Apr 10, 2017</time></p>
                 
          </header>

          <div class="post-content" itemprop="articleBody">
            <p>Home teams do get big advantages!</p>

<html>
    <head>
        <script src="./js/d3.v3.min.js"></script>
        <script src="./js/dimple.v2.0.0.min.js"></script>
        <script src="./js/drawLine_after.js"></script>
    </head>
    <body>
        <div id="titleContainer">
        </div>

        <div id="chartContainer">
        <div id="legend_II">
		    <p style="margin-left: 340px; font-size: 12px; margin-top: 0cm;">Home: &#9644;&#9644;&#9644;&#9644; Away: &#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;</p>
		</div>
        <script type="text/javascript">
            d3.csv("./data/win-rate-data.csv", draw_line);
        </script>

</div>
<div id="explain">
		    <p>By mouseover the lines, you can get more findings, for example:</p>
            <li>The difference between home wins and away wins is obvious. Home team did have big advantage to away team</li>
            <li>The Scotland matches had least average difference between home wins and away wins</li>
            <li>Most league had big difference between home wins and away wins in 2008, but such difference turned smaller during 2014-2015, then expanded in 2016</li>
</div>
    </body>

</html>

<h1 id="home-win-rate-vs-away-win-rate-in-europe-soccer-games">Home win rate vs. Away win rate in Europe Soccer games</h1>
<hr />

<h2 id="summary">Summary</h2>
<hr />
<p>This visualization work compares the winning rate between home and away teams in Europe soccer games during 2008-2016.
Whenever we watch a soccer game, one of the team, if it’s away and unfortunately lose the game, it seems more understandable. However, does playing home or away affect result that much? If it does, how the difference between home winning rate and away winning rate among different leagues and how the differences are going?</p>

<p>The project began with <a href="https://www.kaggle.com/hugomathien/soccer">Kaggle soccer dataset</a> with a sqlite database of 7 tables to involve attributes of players, team and matches. To explore the winning rate of home team and away team, I selected “Match” and “League Table”. Because the two tables have results from real matches, sourced from: http://football-data.mx-api.enetscores.com/</p>

<h2 id="design">Design</h2>

<p>The challenges to make such visualization are challenging:
- Data Manipulation work is needed
- There’re 25979 matches from 11 leagues, traditional visualization might lead to overwhelming information</p>

<p>I used backward reasoning to sketch the main frame of visualization work.</p>

<p>Firstly, there are 4 attributes should be included in my visualization, and after some minutes thining I ended up with the structure with:
- year: time line
- winning rate: numerical percentage
- type of such winning rate: categorical, home or away
- League names: categorical</p>

<p>Then I drew some draft graphes of the chart and determine to use the one which can better deliver the right massage to audiance: Set up time line as x-axis, winning rate as y-axis, League legends at right side and type by color of the points and lines. Inspired by the dimple.js example of <a href="http://dimplejs.org/advanced_examples_viewer.html?id=advanced_storyboard_control">advanced story board</a> and <a href="http://dimplejs.org/advanced_examples_viewer.html?id=advanced_interactive_legends">Interactive Legends</a> I decided to use animation for the audiance to select freely the league they want to explore.</p>

<p>Witch such design of graph, I designed the structure of my table and used SQL and python to get, join tables, and clean work, after which I end up with the table I want: No redundant information, only year, league and win-rate for home and away teams.</p>

<p>After coding I get my first version of the visualization work. I modified a little bit from my original design. I notice because if I differentiate type of the winning rate, there gonna be too many colors which makes the chart confusing. After all, color was already used for league, so I can try another encoding. I finally decide do not differentiate type by chart itself because I notice that the home winning rate is always much higher than away winning rate. So why not just add notation on y axis to let audiance know, the upper line is always for percentage of home wins.</p>

<h2 id="feedback">Feedback</h2>
<p>It’s very important to get feedback before I publish such visualization. Because there’re always blind spots as a designer.</p>

<p>After posted in forum talked with some of my friends I got over 10 advices, 3 of them, I think are most valuable:</p>

<ul>
  <li>Too many lines at first glance, I totally don’t understand what are these lines stand for until I tried to click my mouse and make selections.</li>
  <li>It’s better to click legend to show. Intuitively, it’s strange if you show everthing but click is to hide the information. If I were clicking the mouse, I always want to grab the information I needed not trying to hide the information. All web pages nowadays are “click-to-show” so it’s a common rule of user experience. After all, “Don’t make me think” is very important</li>
  <li>Y axis: to differentiate the type, it’s better for you to reverse the order of text. “Away” should be lower than “Home” because it’s consistant with the graph. If put “Home” on top, it will confuse audiance and take more time for them to digest what’s the graph is talk about.</li>
  <li>Better change your title to a more headline style to EXPLAIN to the reader the message you want to convey.</li>
</ul>

<p>Therefore, I solved the problems mentioned in feedback by:</p>

<ul>
  <li>I only show 1 pair of line at beginning, used animation to tell audiance there are actually a lot of line pairs for each league, they can select by legend. One might not know the lines disappeared will be lines of different league at first glimpse, but it does tell there’re a lot of lines</li>
  <li>I modified the interaction and make it more intuitively. Audiance can click to show the information they want now. If they want to compare, just select the leagues they want without thininking</li>
  <li>I modified the order of text showed on Y axis</li>
  <li>I changed the title, beside, I add explanation below the chart for reader to know more about my findings</li>
</ul>

<p>After these work, I have my final version: <a href="http://bl.ocks.org/jiehu567/59d4dd4d8149ef93fb5c8b4503367e14">index_final.html</a>.</p>

<h2 id="resources">Resources</h2>

<p>Data Resource: https://www.kaggle.com/hugomathien/soccer</p>

<p>References:</p>

<ul>
  <li>Dimple advanced story board: http://dimplejs.org/advanced_examples_viewer.html?id=advanced_storyboard_control</li>
  <li>Dimple example - advanced interactive legends:
http://dimplejs.org/advanced_examples_viewer.html?id=advanced_interactive_legends</li>
  <li>Don’t Make Me Think: A Common Sense Approach to Web Usability, 2nd Edition, by Steve Krug</li>
</ul>


          </div>

    </article>
    <div class="row">
        
         <div id="disqus_thread"></div>
<script defer>
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//webjeda-demo.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                              
        
    </div>
    
    
    <div class="row">
            <ul class="pager">
             
              
                <li><a class="previous" href="/cards/CreditCardFraud/">Optimized Approach using Machine Learning on Credit Card Fraud Dataset &raquo;</a></li>
              
            </ul>
    </div>
</div>


<div class="col-md-4 mt20">
        <div class="post-img">
           
            <img width="600" src="/cards/images/FIFA.png" alt="Soccer in EU, Home matters!">
            
        </div>
            
        
        <div class="mt10 recent">
            <h2>Recent articles</h2>        
             <ul>
                

                      <li>
                      <p><a href="/cards/CreditCardFraud/">Optimized Approach using Machine Learning on Credit Card Fraud Dataset</a><small>&nbsp;&nbsp;09 Apr 2017</small></p>
                      </li>

                

                      <li>
                      <p><a href="/cards/OpenStreetDW/">Open Street Map Data Wrangling with MongoDB</a><small>&nbsp;&nbsp;13 Mar 2017</small></p>
                      </li>

                

                      <li>
                      <p><a href="/cards/RedWineQuality/">EDA: Red Wine Quality</a><small>&nbsp;&nbsp;12 Jun 2016</small></p>
                      </li>

                
              </ul>
        </div>

</div>

</div>

    <script>
    (function() {
        var font3 = document.createElement('link'); 
        font3.type = 'text/css'; 
        font3.rel = 'stylesheet';
        font3.href = '/cards/css/syntax-highlighting.css';
        var q = document.getElementsByTagName('link')[0]; 
        q.parentNode.insertBefore(font3, q);
      })();
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=1047320212005262";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
      </div>
    </div>

    
  <footer class="container">

  <div class="row mt20">
  
  <div class="col-md-4 text-center">Feel free to contact <a target="_blank" href="mailto:jie.hu.ds@gmail.com">me</a></div>
    
    

  <div class="col-md-4 text-center">
     <a target="_blank" href="http://facebook.com/julio.justice000"><li class="social facebook"><img src="/cards/images/facebook.svg" alt="http://facebook.com/julio.justice000"></li></a> 
      <a target="_blank" href="http://twitter.com/@Jie000000"><li class="social twitter"><img src="/cards/images/twitter.svg" alt="http://twitter.com/@Jie000000"></li></a>
      <a target="_blank" href="http://github.com/jiehu567"><li class="social github"><img src="/cards/images/github.svg" alt="http://github.com/jiehu567"></li></a>
  </div>
  
  </div> 

</footer>

    
<script async>
    (function() {
        var font = document.createElement('link'); 
        font.type = 'text/css'; 
        font.rel = 'stylesheet';
        font.href = '//fonts.googleapis.com/css?family=Raleway:400,700';
        var s = document.getElementsByTagName('link')[0]; 
        s.parentNode.insertBefore(font, s);
      })();
</script>
    
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="/cards/js/bootstrap.min.js"></script>
  <!-- Google Analytics Tracking code -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83979019-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>

</html>
